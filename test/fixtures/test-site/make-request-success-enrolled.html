<!DOCTYPE html>
<button id="start" type="button">Pay</button>
<div id="acs-iframe-target"></div>

<script src="../../../dist/globalpayments-3dsecure.js"></script>
<script>
  const {
    checkVersion,
    getBrowserData,
    initiateAuthentication,
    AuthenticationSource,
    AuthenticationRequestType,
    MessageCategory,
    ChallengeRequestIndicator,
    ChallengeWindowSize,
  } = GlobalPayments.ThreeDSecure;

  document.getElementById('start').addEventListener('click', async (e) => {
    e.preventDefault();

    try {
      const versionCheckData = await checkVersion('/foo/bar/success-enrolled');
      
      window.__versionCheckData = versionCheckData;
    } catch (e) {
      window.__versionCheckData = {
        error: true,
        reasons: e.reasons,
      };
    }

    return false;
  });
</script>
